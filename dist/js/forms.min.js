!function(){function e(e,t){e.addEventListener("input",(function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))}function t(e){return e=e.replace(/\D/g,""),e.length>10?e.replace(/(\d{2})(\d{5})(\d{4}).*/,"($1) $2-$3"):e.length>5?e.replace(/(\d{2})(\d{4})(\d{0,4}).*/,"($1) $2-$3"):e.length>2?e.replace(/(\d{2})(\d{0,5})/,"($1) $2"):e}function n(e){return(e=e.replace(/\D/g,"")) .replace(/(\d{3})(\d{3})(\d{3})(\d{0,2}).*/,"$1.$2.$3-$4").replace(/\.{2,}/,".")}function a(e){return(e=e.replace(/\D/g,"")) .replace(/(\d{5})(\d{0,3}).*/,"$1-$2")}function r(e,t,n){if(e=e.replace(/\D/g,""),8!==e.length)return n&&n(),void 0;fetch("https://viacep.com.br/ws/"+e+"/json/").then((e=>e.json())).then((e=>{e.erro?n&&n():t&&t(e)})).catch((()=>n&&n()))}function i(e){e.querySelectorAll(".field-error").forEach((e=>e.remove())),e.querySelectorAll('[aria-invalid="true"]').forEach((e=>{e.setAttribute("aria-invalid","false"),e.removeAttribute("aria-describedby")}))}function o(e,t){i(e),t.forEach(((t,n)=>{const a=e.querySelector(`[name="${t.name}"]`)||document.getElementById(t.name);if(!a)return;const r=`${t.name}-error-${n}`,o=document.createElement("div");o.id=r,o.className="field-error",o.style.color="#b00020",o.style.fontSize=".85rem",o.style.marginTop=".25rem",o.textContent=t.message,a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",r),a.insertAdjacentElement("afterend",o)}))}function d(e){const t=[];return Array.from(e.elements).forEach((e=>{if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement))return;const n=e.name||e.id;e.hasAttribute("required")&&(!e.value||""===e.value.trim())&&t.push({name:n,message:"Campo obrigatório."}),"email"===e.type&&e.value&&/.+@.+\..+/.test(e.value)||"email"!==e.type||t.push({name:n,message:"Email inválido."})})),t}document.addEventListener("input",(function(e){const r=e.target;if(!(r instanceof HTMLInputElement))return;const i=r.getAttribute("data-mask");"telefone"===i&&(r.value=t(r.value)),"cpf"===i&&(r.value=n(r.value)),"cep"===i&&(r.value=a(r.value))})),document.addEventListener("blur",(function(e){const t=e.target;if(!(t instanceof HTMLInputElement))return;"cep"===t.getAttribute("data-mask")&&r(t.value,(function(e){const n=t.closest("form")||document,a=n.querySelector('[name="endereco"]'),i=n.querySelector('[name="bairro"]'),o=n.querySelector('[name="cidade"]'),d=n.querySelector('[name="uf"]');a&&(a.value=e.logradouro||""),i&&(i.value=e.bairro||""),o&&(o.value=e.localidade||""),d&&(d.value=e.uf||"")}),(()=>{}))}),!0),document.addEventListener("submit",(function(e){const t=e.target;if(!(t instanceof HTMLFormElement))return;const n=d(t);return n.length?(e.preventDefault(),o(t,n),t.querySelector(".field-error")?.scrollIntoView({behavior:"smooth",block:"center"}),void alert("Preencha os campos obrigatórios.")):(i(t),e.preventDefault(),void alert("Formulário válido - envio simulado."))}),!0),window.Forms={validateForm:d}}();